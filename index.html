<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>

  <meta name="viewport" content="initial-scale=1, maximum-scale=1">

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <title>Camera</title>

  <link rel="icon" type="image/jpg" href="favicon.jpg?v=2" />

  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/themes/smoothness/jquery-ui.css" rel="stylesheet" class="theme-link" type="text/css" media="screen" />

  <link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.css" rel="stylesheet" />
  <link href="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.print.css" rel="stylesheet" />

  <style>

     body { font-size : 14px; font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif; }
    
     #header  { font-size:x-large; font-weight:bold; position:absolute; right:20px; z-index:99; text-align:right; padding: 0.25em;}
     #header * { margin:0px; }
     #header .fa { color: green; }

     .hover-toolbar{ padding:0; margin:0; text-align:right; position:absolute; top:0; width:100%;}
     .hover-delete { color:red; cursor:pointer; }
    
     .control-wrapper { display:block; }
     .control-label { display:inline; float:left; width:200px;}
     .control-content { display:inline; float:left; width:300px;}
   </style>
  
</head>

<body> 

  <nav class="navbar navbar-inverse navbar-fixed-top navbar-default" role="navigation">
     <div class="container">

      <div class="navbar-header">
         <a class="navbar-brand" href="#"><span id="roomInfo"></span></a>
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
       </div>

       <div class="collapse navbar-collapse navbar-exl-collapse collapse pull-right">
             <ul class="nav navbar-nav">
                <li class="page-scroll"><a href="#panel-schedule" data-toggle="tab"><span class="glyphicon glyphicon-calendar"></span>  Schedule</a></li>
                <li class="page-scroll"><a href="#panel-config" data-toggle="tab"><span class="glyphicon glyphicon-cog"></span>  Configuration</a></li>
             </ul>
       </div>

    </div>
  </nav>  
  

    <section id="panel-schedule" class="container">
      <br><br><br>
      <div id="event-dialog"></div>
      <div id="event-calendar"></div>
    </section>

    <hr>

    <section id="panel-config" class="container">

     <div class="row">

       <div class="col-sm-5">
        <h3>Video Controls</h3>
        <div id="status-media"></div>
        <div id="list-controls"></div>
       </div>

       <div class="col-sm-6">
         <h3>VLC Command</h3>
         <div><input type="text" style="width:300px" id="command" name="command"><button onClick="$('#command-result').html( send( $('#command').val() ) )" value="Send">Send</button></div>
       </div>

     </div>
    
    <div class="row"> 
       <div class="col-sm-5">
          <h3>Machine Configuration</h3>
          <div>
             <form id="config-form" onSubmit="return false">
              <div><label class="control-label">Room ID</label><input name="roomID" id="config-roomID" /></div>
              <div><label class="control-label">Room Name</label><input name="roomName" id="config-roomName" /></div>
              <div class="clearall"><label class="control-label">Exclude Courses</label><input name="exclude" id="config-exclude" /></div>
              <div><label class="control-label">Include Courses</label><input name="include" id="config-include" /></div>
              <div><label class="control-label">Recording Split</label>
                   <select name="splitMinutes" id="config-splitMinutes" />
                     <option value="00">Don't Split</option>
                     <option value="30">30 Minute blocks</option>
                     <option value="60">1 Hour blocks</option>
                     <option value="90">90 Minute blocks</option>
                   </select>
              </div>
             </form>
             <br>
             <button onClick="updateMachine()">Update Configuration</button>
             <hr>
             <button onClick="$('#command-result').html( send( 'update schedule' ) )">Update Schedule</button>
             <button onClick="$('#command-result').html( send( 'show videos' ) )">Show Videos</button>
             &nbsp|&nbsp;
             <button onClick="$('#command-result').html( send( 'update software' ) )">Update Software</button>
             <button onClick="$('#command-result').html( send( 'control reboot' ) )">Reboot Machine</button>
          </div>
       </div>

       <div class="col-sm-6">
        <pre id="command-result"></pre>
       </div>

    </div>
    
    
  </section>

</div>

 <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
 <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
 <script src="//cdnjs.cloudflare.com/ajax/libs/fullcalendar/1.6.4/fullcalendar.min.js"></script>
 <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

 <script src="index.js"></script>

 <script>

 $(document).ready( function() {  
  
              loadMachine();
              showMedia();

            //jQuery for page scrolling feature - requires jQuery Easing plugin
            $(function() {
                $('.page-scroll a').bind('click', function(event) {
                    var $anchor = $(this);
                    $('html, body').stop().animate({
                        scrollTop: $($anchor.attr('href')).offset().top
                    }, 1500, 'easeInOutExpo');
                    event.preventDefault();
                });
            });


              $("#event-dialog").dialog( {autoOpen:false, title:"Scheduler"} );
              
                var date = new Date();
                var d = date.getDate();
                var m = date.getMonth();
                var y = date.getFullYear();
                 $("#event-calendar").fullCalendar( {  events : getEvents,
                                                     header: {  left: 'prev,next today',  center: 'title',  right: 'month,agendaWeek,agendaDay'},
                                                     eventColor : '#ABABAB',
                                                     contentHeight: 500,
                                                     handleWindowResize: true ,
                                                     selectable: true,
                                                     selectHelper: true,
                                                    theme : true,
                                                    year:  y,
                                                    month: m,
                                                    date:  d,                                                     
                                                    defaultView : 'month',
                                                    defaultEventMinutes : 15,
                                                    slotMinutes : 15,
                                                    firstHour : 7,
                                                    allDaySlot : false,
                                                    select : handleSelect,
                                                    eventMouseover : handleHover,
                                                    eventMouseout : handleHover
                                                    } );

              /*
              $("#content").tabs({
                                   activate : function(e,ui) {
                                      $("#event-calendar").fullCalendar( 'refetchEvents' );
                                   }
              });
              */

 });

  </script>
 
</body>
</html>




